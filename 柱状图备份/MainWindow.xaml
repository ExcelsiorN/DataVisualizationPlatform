<Window x:Class="DataVisualizationPlatform.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Title="数据可视化平台 - 主页" Height="800" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource MainWindowBackground}">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources/Styles/MainWindowStyle.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="150"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- 标题区域 -->
        <TextBlock Grid.Row="0" Grid.ColumnSpan="2"
                   Text="这里是标题" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Top" 
                   Margin="0,20,0,20"
                   FontSize="28" 
                   FontWeight="Bold"
                   Foreground="{StaticResource TitleForeground}"/>

        <!-- 左侧圆环菜单区域 -->
        <Grid Grid.Row="1" Grid.Column="0" Margin="-150,0,0,40" Grid.RowSpan="2">
            <Viewbox Width="300" Height="300" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Canvas Width="400" Height="400">

                    <!-- 第1部分 (0-60度，从12点钟方向开始) -->
                    <Button Style="{StaticResource CircularMenuItemStyle}" 
                            Command="{Binding NavigateCommand}" 
                            CommandParameter="FaultReport"
                            Canvas.Left="0" Canvas.Top="0"
                            RenderTransformOrigin="0.807,0.613">

                            <Button.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </Button.RenderTransform>

                            <Button.Triggers>
                                <!-- 鼠标进入缩小 -->
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                                                To="0.85" Duration="0:0:0.2"
                                                AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                                                To="0.85" Duration="0:0:0.2"
                                                AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>

                                <!-- 鼠标离开恢复 -->
                                <EventTrigger RoutedEvent="MouseLeave">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                                                To="1.0" Duration="0:0:0.4"
                                                AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                                                To="1.0" Duration="0:0:0.4"
                                                AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Button.Triggers>
                        <Grid>
                            <Path Fill="{StaticResource FaultReportBrush}" 
                          Stroke="{StaticResource MenuItemBorder}" 
                          StrokeThickness="2">
                                <Path.Data>
                                    <PathGeometry>
                                        <PathFigure StartPoint="200,50">
                                            <!-- 从12点钟方向开始，外圆弧60度 -->
                                            <ArcSegment Point="329.9,125" Size="150,150" IsLargeArc="False" SweepDirection="Clockwise"/>
                                            <!-- 连到内圆 -->
                                            <LineSegment Point="286.6,150"/>
                                            <!-- 内圆弧，反向60度 -->
                                            <ArcSegment Point="200,100" Size="100,100" IsLargeArc="False" SweepDirection="CounterClockwise"/>
                                            <!-- 封闭路径 -->
                                            <LineSegment Point="200,50"/>
                                        </PathFigure>
                                    </PathGeometry>
                                </Path.Data>
                            </Path>
                            <TextBlock Text="故障报告" 
            HorizontalAlignment="Left" 
            VerticalAlignment="Top"
            Foreground="White" 
            FontWeight="Bold"
            FontSize="12"
            Canvas.Left="250" Canvas.Top="100" Margin="237,83,0,0"/>
                        </Grid>
                    </Button>

                    <!-- 第2部分 (60-120度) -->
                    <Button Style="{StaticResource CircularMenuItemStyle}" 
                Command="{Binding NavigateCommand}" 
                CommandParameter="ReservationList"
                Canvas.Left="0" Canvas.Top="0"
                RenderTransformOrigin="0.909,0.75">

                        <Button.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1" />
                        </Button.RenderTransform>

                        <Button.Triggers>
                            <!-- 鼠标进入缩小 -->
                            <EventTrigger RoutedEvent="MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                    To="0.85" Duration="0:0:0.2"
                    AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                    To="0.85" Duration="0:0:0.2"
                    AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <!-- 鼠标离开恢复 -->
                            <EventTrigger RoutedEvent="MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                    To="1.0" Duration="0:0:0.4"
                    AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                    To="1.0" Duration="0:0:0.4"
                    AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Button.Triggers>
                        <Grid>
                            <Path Fill="{StaticResource ReservationBrush}" 
                    Stroke="{StaticResource MenuItemBorder}" 
                    StrokeThickness="2">
                                <Path.Data>
                                    <PathGeometry>
                                        <PathFigure StartPoint="329.9,125">
                                            <!-- 60-120度，外圆弧 -->
                                            <ArcSegment Point="329.9,275" Size="150,150" IsLargeArc="False" SweepDirection="Clockwise"/>
                                            <!-- 连到内圆 -->
                                            <LineSegment Point="286.6,250"/>
                                            <!-- 内圆弧，反向 -->
                                            <ArcSegment Point="286.6,150" Size="100,100" IsLargeArc="False" SweepDirection="CounterClockwise"/>
                                            <!-- 封闭路径 -->
                                            <LineSegment Point="329.9,125"/>
                                        </PathFigure>
                                    </PathGeometry>
                                </Path.Data>
                            </Path>
                            <TextBlock Text="预约单" 
            HorizontalAlignment="Left" 
            VerticalAlignment="Top"
            Foreground="White" 
            FontWeight="Bold"
            FontSize="12"
            Canvas.Left="100" Canvas.Top="220" Margin="306,189,0,0"/>
                        </Grid>
                    </Button>

                    <!-- 第3部分 (120-180度) -->
                    <Button Style="{StaticResource CircularMenuItemStyle}" 
                Command="{Binding NavigateCommand}" 
                CommandParameter="EquipmentInfo"
                Canvas.Left="0" Canvas.Top="0"
                RenderTransformOrigin="0.695,0.92">

                        <Button.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1" />
                        </Button.RenderTransform>

                        <Button.Triggers>
                            <!-- 鼠标进入缩小 -->
                            <EventTrigger RoutedEvent="MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                    To="0.85" Duration="0:0:0.2"
                    AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                    To="0.85" Duration="0:0:0.2"
                    AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <!-- 鼠标离开恢复 -->
                            <EventTrigger RoutedEvent="MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
                    To="1.0" Duration="0:0:0.4"
                    AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
                    To="1.0" Duration="0:0:0.4"
                    AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Button.Triggers>
                        <Grid>
                            <Path Fill="{StaticResource EquipmentBrush}" 
                      Stroke="{StaticResource MenuItemBorder}" 
                      StrokeThickness="2">
                                <Path.Data>
                                    <PathGeometry>
                                        <PathFigure StartPoint="329.9,275">
                                            <!-- 120-180度，外圆弧 -->
                                            <ArcSegment Point="200,350" Size="150,150" IsLargeArc="False" SweepDirection="Clockwise"/>
                                            <!-- 连到内圆 -->
                                            <LineSegment Point="200,300"/>
                                            <!-- 内圆弧，反向 -->
                                            <ArcSegment Point="286.6,250" Size="100,100" IsLargeArc="False" SweepDirection="CounterClockwise"/>
                                            <!-- 封闭路径 -->
                                            <LineSegment Point="329.9,275"/>
                                        </PathFigure>
                                    </PathGeometry>
                                </Path.Data>
                            </Path>
                            <TextBlock Text="设备信息" 
            HorizontalAlignment="Left" 
            VerticalAlignment="Top"
            Foreground="White" 
            FontWeight="Bold"
            FontSize="14"
            Canvas.Left="180" Canvas.Top="310" Margin="236,299,0,0"/>
                        </Grid>
                    </Button>

                    <!-- 中央装饰圆 -->
                    <Button Style="{StaticResource CircularMenuItemStyle}" 
             Command="{Binding NavigateCommand}" 
             CommandParameter="Data"
             Canvas.Left="150" Canvas.Top="150"
             Width="100" Height="100"
             RenderTransformOrigin="0.5,0.5"
             Panel.ZIndex="10">
                        <Button.RenderTransform>
                            <ScaleTransform ScaleX="1" ScaleY="1" />
                        </Button.RenderTransform>

                        <Button.Triggers>
                            <!-- 鼠标进入缩小 -->
                            <EventTrigger RoutedEvent="MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
To="1.15" Duration="0:0:0.2"
AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
To="1.15" Duration="0:0:0.2"
AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>

                            <!-- 鼠标离开恢复 -->
                            <EventTrigger RoutedEvent="MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleX)"
To="1.0" Duration="0:0:0.4"
AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                        <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(ScaleTransform.ScaleY)"
To="1.0" Duration="0:0:0.4"
AccelerationRatio="0.3" DecelerationRatio="0.3"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Button.Triggers>
                        <Grid>
                            <Border Width="100" Height="100"
                     Background="{StaticResource CenterCircleBrush}" 
                     BorderBrush="{StaticResource MenuItemBorder}" 
                     BorderThickness="3"
                     CornerRadius="50">
                                <TextBlock Text="主菜单" 
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Foreground="White" 
                            FontWeight="Bold"
                            FontSize="16"/>
                            </Border>
                        </Grid>
                    </Button>
                </Canvas>
            </Viewbox>
        </Grid>

        <!-- 右侧内容区域 -->
        <Border Grid.Row="1" Grid.Column="1" 
                Background="Transparent" 
                CornerRadius="10" 
                Margin="90,10,20,10">
            <Frame x:Name="MainContentFrame" 
                   Content="{Binding CurrentPage}"
                   NavigationUIVisibility="Hidden"/>
        </Border>
    </Grid>
</Window>